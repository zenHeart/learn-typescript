(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{412:function(t,e,s){"use strict";s.r(e);var r=s(42),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"项目配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目配置"}},[t._v("#")]),t._v(" 项目配置")]),t._v(" "),s("h2",{attrs:{id:"tsconfig-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tsconfig-json"}},[t._v("#")]),t._v(" tsconfig.json")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("tsconfig.json")]),t._v(" 配置 tsc 的编译规则，可采用 "),s("code",[t._v("tsc --init")]),t._v(" 创建配置文件。")]),t._v(" "),s("h3",{attrs:{id:"配置文件查找规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件查找规则"}},[t._v("#")]),t._v(" 配置文件查找规则")]),t._v(" "),s("p",[t._v("TypeScript 基于如下机制查找配置文件")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("默认查找机制")]),t._v(" "),s("ol",[s("li",[t._v("搜索当前目录是否包含 "),s("code",[t._v("tsconfig.json")])]),t._v(" "),s("li",[t._v("若没有则逐级向上层目录查找")])])]),t._v(" "),s("li",[s("strong",[t._v("指定配置目录")]),t._v(" "),s("ol",[s("li",[t._v("若设置了 "),s("code",[t._v("--project,-p")]),t._v(" 则根据指定的路径查找配置文件 "),s("code",[t._v("tsconfig.json")]),t._v(" 或合法的 "),s("code",[t._v(".json")]),t._v(" 配置文件。")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("注意指定了配置目录后，默认查找机制会失效")])]),t._v(" "),s("h3",{attrs:{id:"配置选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置选项"}},[t._v("#")]),t._v(" 配置选项")]),t._v(" "),s("p",[t._v("TypeScript 提供了大量的配置项用于设定 "),s("code",[t._v("tsc")]),t._v(" 的编译规则。\n详见 "),s("a",{attrs:{href:"https://www.typescriptlang.org/v2/en/tsconfig#allowJs",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置项"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("常用配置如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("配置项")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("功能")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("outDir")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("设置编译结果的输出目录，默认为 "),s("code",[t._v("ts")]),t._v(" 文件相同路径，"),s("strong",[t._v("注意设置只改编译的输出目录，之前的文件的相对目录关系还存在")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("target")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("设置 "),s("RouterLink",{attrs:{to:"/tutorial/8.declare.html#内建类型申明"}},[t._v("内建类型申明")]),t._v(" 支持的定义，例如设置 "),s("code",[t._v("ES5")]),t._v(" 时，使用 "),s("code",[t._v("ES6")]),t._v(" 方法会报错")],1)]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("lib")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("相比 "),s("code",[t._v("target")]),t._v(" 更细粒度的控制 Typescript 支持哪些类型定义")])])])]),t._v(" "),s("h2",{attrs:{id:"命令行参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行参数"}},[t._v("#")]),t._v(" 命令行参数")]),t._v(" "),s("p",[t._v("也可通过命令行参数配置 tsc 的行为，示例命令如下")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 编译当前目录下所有文件")]),t._v("\ntsc\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只编译特定文件")]),t._v("\ntsc index.ts\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 编译特定目录下文件")]),t._v("\ntsc src/*.js\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 传入指定配置编译文件")]),t._v("\ntsc --project tsconfig.json src/*.ts\n")])])]),s("p",[t._v("详细的命令行参数参见 "),s("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/compiler-options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Compiler Options"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("常用配置如下表")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("配置名")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("功能")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("使用场景")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("--allowJs")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许编译 js 文件")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("--checkJs")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("检查 js 文件")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("结合 allowJs 配置利用 TypeScript 默认推导功能实现对 js 的检查")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("declaration")]),t._v("，"),s("code",[t._v("-d")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("创建申明文件")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("当仓库采用 TypeScript 编写时，基于此配置生成申明文件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("--init")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("创建 "),s("code",[t._v("tsconfig.json")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("初始化配置文件时")])])])]),t._v(" "),s("h3",{attrs:{id:"declaration-和-allowjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#declaration-和-allowjs"}},[t._v("#")]),t._v(" declaration 和 allowjs")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/release-notes/overview.html#--declaration-and---allowjs",target:"_blank",rel:"noopener noreferrer"}},[t._v("declaration allowjs"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"incremental"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#incremental"}},[t._v("#")]),t._v(" incremental")]),t._v(" "),s("p",[t._v("采用 incremental 优化编译  https://www.typescriptlang.org/docs/handbook/release-notes/overview.html#--incremental-improvements")]),t._v(" "),s("h3",{attrs:{id:"strictnullchecks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strictnullchecks"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#--strictnullchecks",target:"_blank",rel:"noopener noreferrer"}},[t._v("--strictNullChecks"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("避免值为 null 或 undefined")]),t._v(" "),s("h3",{attrs:{id:"outfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#outfile"}},[t._v("#")]),t._v(" outFile")]),t._v(" "),s("p",[t._v("控制输出目录")]),t._v(" "),s("h2",{attrs:{id:"编译优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译优化"}},[t._v("#")]),t._v(" 编译优化")]),t._v(" "),s("h3",{attrs:{id:"项目索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目索引"}},[t._v("#")]),t._v(" 项目索引")]),t._v(" "),s("p",[t._v("基于项目索引改善 TypeScript 的编译性能，详见 "),s("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/project-references.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Project Reference"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"extends"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extends"}},[t._v("#")]),t._v(" extends")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#tsconfigjson-inheritance-via-nodejs-packages",target:"_blank",rel:"noopener noreferrer"}},[t._v("extends"),s("OutboundLink")],1),t._v(" 支持去 node_modules 中查找属性")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#configuration-inheritance",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置继承"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"showconfig"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#showconfig"}},[t._v("#")]),t._v(" showConfig")]),t._v(" "),s("p",[t._v("利用此配置调试 ts 的配置文件,详见 "),s("a",{attrs:{href:"https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#the-new---showconfig-flag",target:"_blank",rel:"noopener noreferrer"}},[t._v("showConfig"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"项目开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目开发"}},[t._v("#")]),t._v(" 项目开发")]),t._v(" "),s("h3",{attrs:{id:"glob-模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#glob-模式"}},[t._v("#")]),t._v(" glob 模式")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#glob-support-in-tsconfigjson",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#glob-support-in-tsconfigjson"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"typesversions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typesversions"}},[t._v("#")]),t._v(" typesVersions")]),t._v(" "),s("p",[t._v("实现版本管理 "),s("a",{attrs:{href:"https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#version-selection-with-typesversions",target:"_blank",rel:"noopener noreferrer"}},[t._v("typesVersions"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"集成构建工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成构建工具"}},[t._v("#")]),t._v(" 集成构建工具")]),t._v(" "),s("p",[t._v("除了使用默认的 "),s("code",[t._v("tsc")]),t._v(" 也可采用第三方构建工具编译 TypeScript。\n详细资料参见 "),s("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("集成构建"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[t._v("#")]),t._v(" TODO")]),t._v(" "),s("p",[t._v("支持注释: https://www.typescriptlang.org/v2/docs/handbook/release-notes/overview.html#allow-comments-in-tsconfigjson")]),t._v(" "),s("h2",{attrs:{id:"compileroptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compileroptions"}},[t._v("#")]),t._v(" compilerOptions")]),t._v(" "),s("p",[t._v("编译选项配置。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("types")]),t._v(" 设置包含什么包， 解决例如 node 缺少 process 的问题，参考 "),s("a",{attrs:{href:"https://github.com/wmonk/create-react-app-typescript/issues/93#issuecomment-396885127",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Cannot find name 'process'."),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=a.exports}}]);